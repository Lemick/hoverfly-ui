import{t as Fe,c as De,r as c,j as e,$ as q,a as Ie,C as Le,b as ee,d as V,e as te,f as Ae,g as U,h as se,i as Me,k as ae,l as He,m as ne,n as Ve,o as re,p as oe,q as Ue,s as Be,u as ze,v as ie,w as _e,x as We,y as Je,z as Ge,A as ce,B as Xe,D as Ke,G as Qe,T as le,P as de,E as ue,F as me,H as fe,I as he,J as Ye,K as xe,L as Ze,M as qe,N as et,O as tt,Q as st,R as pe,S as je,U as at,V as ge,W as nt,X as rt,Y as ot,Z as it,_ as ct,a0 as lt,a1 as dt,a2 as ut,a3 as mt,a4 as ft,a5 as ht,a6 as xt,a7 as pt,a8 as jt,a9 as gt,aa as vt,ab as bt,ac as yt,ad as Nt}from"./vendor-Bn43EG_8.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();function x(...t){return Fe(De(t))}const F=c.forwardRef(({className:t,...s},a)=>e.jsx(q,{ref:a,className:x("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Ie,{className:x("flex items-center justify-center text-current"),children:e.jsx(Le,{className:"h-4 w-4"})})}));F.displayName=q.displayName;const wt=V("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),b=c.forwardRef(({className:t,...s},a)=>e.jsx(ee,{ref:a,className:x(wt(),t),...s}));b.displayName=ee.displayName;const S=c.forwardRef(({className:t,type:s,...a},o)=>e.jsx("input",{type:s,className:x("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...a}));S.displayName="Input";const ve=_e,be=We,B=c.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(te,{ref:o,className:x("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(Ae,{asChild:!0,children:e.jsx(U,{className:"h-4 w-4 opacity-50"})})]}));B.displayName=te.displayName;const ye=c.forwardRef(({className:t,...s},a)=>e.jsx(se,{ref:a,className:x("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Me,{className:"h-4 w-4"})}));ye.displayName=se.displayName;const Ne=c.forwardRef(({className:t,...s},a)=>e.jsx(ae,{ref:a,className:x("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(U,{className:"h-4 w-4"})}));Ne.displayName=ae.displayName;const z=c.forwardRef(({className:t,children:s,position:a="popper",...o},n)=>e.jsx(He,{children:e.jsxs(ne,{ref:n,className:x("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...o,children:[e.jsx(ye,{}),e.jsx(Ve,{className:x("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Ne,{})]})}));z.displayName=ne.displayName;const $t=c.forwardRef(({className:t,...s},a)=>e.jsx(re,{ref:a,className:x("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));$t.displayName=re.displayName;const l=c.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(oe,{ref:o,className:x("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ue,{children:e.jsx(Be,{className:"h-4 w-4"})})}),e.jsx(ze,{children:s})]}));l.displayName=oe.displayName;const Ct=c.forwardRef(({className:t,...s},a)=>e.jsx(ie,{ref:a,className:x("-mx-1 my-1 h-px bg-muted",t),...s}));Ct.displayName=ie.displayName;const kt=V("inline-flex items-center gap-2 justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/60",destructive:"bg-destructive/90 text-destructive-foreground hover:bg-destructive/60",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/60",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=c.forwardRef(({className:t,variant:s,size:a,asChild:o=!1,...n},r)=>{const d=o?Je:"button";return e.jsx(d,{className:x(kt({variant:s,size:a,className:t})),ref:r,...n})});j.displayName="Button";function y({children:t,direction:s,className:a}){return e.jsx("div",{className:x("flex items-start [&>*]:cursor-pointer",s==="column"?"gap-2":"gap-4",s==="column"?"flex-col":"flex-row",a),children:t})}const _=Xe,W=Ke,L=c.forwardRef(({className:t,align:s="center",sideOffset:a=4,...o},n)=>e.jsx(Ge,{children:e.jsx(ce,{ref:n,align:s,sideOffset:a,className:x("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})}));L.displayName=ce.displayName;const Rt=({id:t,fieldMatcher:s={matcher:"exact",value:""},onChange:a,onDeleteRequest:o,valuePlaceholder:n})=>{var h,i,m;const r=(u,g)=>{const w={...s,[u]:g};a(w)},d=(u,g)=>{const w={...s.config,[u]:g},N=Object.values(w).some(E=>E),$={...s,config:N?w:void 0};a($)},f=u=>`${t}_${u}`;return e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex flex-row gap-3 items-end",children:[e.jsxs(y,{direction:"column",children:[e.jsx(b,{htmlFor:f("select-matcher"),children:"Matcher"}),e.jsxs(ve,{name:"matcher",value:s.matcher,onValueChange:u=>r("matcher",u),children:[e.jsx(B,{id:f("select-matcher"),className:"w-[180px]","data-testid":"select-matcher",children:e.jsx(be,{placeholder:"matcher"})}),e.jsxs(z,{"data-testid":"select-matcher-options",children:[e.jsx(l,{value:"exact",children:"Exact"}),e.jsx(l,{value:"glob",children:"Glob"}),e.jsx(l,{value:"regex",children:"Regex"}),e.jsx(l,{value:"json",children:"JSON"}),e.jsx(l,{value:"jsonPartial",children:"JSON Partial"}),e.jsx(l,{value:"jsonPath",children:"JSON Path"}),e.jsx(l,{value:"xml",children:"XML"}),e.jsx(l,{value:"xpath",children:"XPath"})]})]})]}),e.jsxs(y,{direction:"column",className:"w-full",children:[e.jsx(b,{htmlFor:f("matcher-value"),children:"Value"}),e.jsx(S,{id:f("matcher-value"),type:"text",name:"value",placeholder:n,value:s.value,onChange:u=>r("value",u.target.value)})]}),e.jsxs(_,{children:[e.jsx(W,{asChild:!0,children:e.jsx(j,{variant:"outline","aria-label":"Advanced options",children:e.jsx(Qe,{})})}),e.jsx(L,{className:"w-50 p-4",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("p",{className:"font-medium leading-none",children:"Advanced options"}),e.jsxs("div",{className:"flex flex-col items-start gap-3",children:[e.jsxs(y,{direction:"row",children:[e.jsx(F,{id:f("ignoreUnknown"),name:"ignoreUnknown",checked:!!((h=s.config)!=null&&h.ignoreUnknown),onCheckedChange:u=>d("ignoreUnknown",!!u)}),e.jsx(b,{htmlFor:f("ignoreUnknown"),children:"Ignore Unknown"})]}),e.jsxs(y,{direction:"row",children:[e.jsx(F,{id:f("ignoreOrder"),name:"ignoreOrder",checked:!!((i=s.config)!=null&&i.ignoreOrder),onCheckedChange:u=>d("ignoreOrder",!!u)}),e.jsx(b,{htmlFor:f("ignoreOrder"),children:"Ignore Order"})]}),e.jsxs(y,{direction:"row",children:[e.jsx(F,{id:f("ignoreOccurrences"),name:"ignoreOccurrences",checked:!!((m=s.config)!=null&&m.ignoreOccurrences),onCheckedChange:u=>d("ignoreOccurrences",!!u)}),e.jsx(b,{htmlFor:f("ignoreOccurrences"),children:"Ignore Occurrences"})]})]})]})})]}),e.jsx(j,{variant:"destructive",onClick:o,children:e.jsx(le,{})})]})})},J=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));J.displayName="Card";const St=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("flex flex-col space-y-1.5 p-6",t),...s}));St.displayName="CardHeader";const Tt=c.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:x("text-2xl font-semibold leading-none tracking-tight",t),...s}));Tt.displayName="CardTitle";const Et=c.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:x("text-sm text-muted-foreground",t),...s}));Et.displayName="CardDescription";const G=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("p-6 pt-0",t),...s}));G.displayName="CardContent";const Pt=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("flex items-center p-6 pt-0",t),...s}));Pt.displayName="CardFooter";const T=({fieldMatchers:t=[],type:s,onChange:a,valuePlaceholder:o})=>{const n=c.useMemo(()=>Math.random(),[]),r=()=>{a([...t,{matcher:"exact",value:""}])},d=(h,i)=>{const m=[...t];m[h]=i,a(m)},f=h=>{const i=[...t];i.splice(h,1),a(i)};return e.jsxs("div",{className:"flex flex-col gap-3",children:[t.map((h,i)=>e.jsx(J,{className:"p-4",children:e.jsx(Rt,{id:`${n}_idx${i}`,fieldMatcher:h,onChange:m=>d(i,m),onDeleteRequest:()=>f(i),valuePlaceholder:o})},i)),e.jsx("div",{className:"w-full flex flex-row justify-center","data-testid":"add-matcher-button",children:(t==null?void 0:t.length)===0?e.jsx(j,{className:"w-[400px] mt-6 mb-6",variant:"secondary",onClick:r,children:e.jsx("span",{children:`Add first field matcher for ${s}`})}):e.jsx(j,{className:"w-[150px] h-8",variant:"ghost",onClick:r,children:e.jsx(de,{height:18,width:18})})})]})},Q=({entries:t={},type:s,onChange:a,valuePlaceholder:o})=>{const[n,r]=c.useState(""),d=()=>{!n||t[n]||(a({[n]:[],...t}),r(""))},f=(i,m)=>{a({...t,[i]:m})},h=i=>{const m={...t};delete m[i],a(m)};return e.jsx(J,{children:e.jsxs(G,{className:"p-4 flex flex-col gap-0",children:[e.jsxs("div",{className:"flex flex-row gap-2 mb-4",children:[e.jsx(S,{type:"text",placeholder:`Enter the name of the new ${s}`,value:n,onKeyDown:i=>i.key==="Enter"?d():void 0,onChange:i=>r(i.target.value)}),e.jsxs(j,{className:"flex gap-2",variant:"default",onClick:d,disabled:!n,children:[e.jsx(de,{})," Add"]})]}),Object.entries(t).map(([i,m])=>e.jsxs("fieldset",{children:[e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsx("span",{className:"w-auto fw-bold inline text-lg",children:i}),e.jsx(j,{variant:"ghost",onClick:()=>h(i),className:"w-auto",children:e.jsx(ue,{})})]}),e.jsx("div",{children:e.jsx(T,{fieldMatchers:m,type:`${s} '${i}'`,onChange:u=>f(i,u),valuePlaceholder:o})})]},i))]})})},Ot=Ye,we=c.forwardRef(({className:t,...s},a)=>e.jsx(me,{ref:a,className:x("inline-flex w-full h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));we.displayName=me.displayName;const C=c.forwardRef(({className:t,...s},a)=>e.jsx(fe,{ref:a,className:x("inline-flex flex-grow items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));C.displayName=fe.displayName;const k=c.forwardRef(({className:t,...s},a)=>e.jsx(he,{ref:a,className:x("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));k.displayName=he.displayName;function A({children:t}){return e.jsx("h2",{className:"scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight first:mt-0",children:t})}const Ft=V("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary/80 text-primary-foreground hover:bg-primary/40",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dt({className:t,variant:s,...a}){return e.jsx("div",{className:x(Ft({variant:s}),t),...a})}const It=({request:t,onChange:s})=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(A,{children:"Request"}),e.jsxs(Ot,{defaultValue:"method",children:[e.jsxs(we,{children:[e.jsxs(C,{value:"method",children:["Method  ",e.jsx(R,{elements:t.method})]}),e.jsxs(C,{value:"scheme",children:["Scheme  ",e.jsx(R,{elements:t.scheme})]}),e.jsxs(C,{value:"destination",children:["Destination   ",e.jsx(R,{elements:t.destination})]}),e.jsxs(C,{value:"path",children:["Path  ",e.jsx(R,{elements:t.path})]}),e.jsxs(C,{value:"queryParams",children:["Query Params  ",e.jsx(R,{elements:t.query})]}),e.jsxs(C,{value:"headers",children:["Headers  ",e.jsx(R,{elements:t.headers})]}),e.jsxs(C,{value:"body",children:["Body  ",e.jsx(R,{elements:t.body})]})]}),e.jsx(k,{value:"method","data-testid":"tab-content-method",children:e.jsx(T,{fieldMatchers:t.method,type:"method",valuePlaceholder:"GET",onChange:a=>s({...t,method:a})})}),e.jsx(k,{value:"body","data-testid":"tab-content-body",children:e.jsx(T,{fieldMatchers:t.body,type:"body",valuePlaceholder:'{"key": "value"}',onChange:a=>s({...t,body:a})})}),e.jsx(k,{value:"destination","data-testid":"tab-content-destination",children:e.jsx(T,{fieldMatchers:t.destination,type:"destination",valuePlaceholder:"hoverfly.io",onChange:a=>s({...t,destination:a})})}),e.jsx(k,{value:"headers","data-testid":"tab-content-headers",children:e.jsx(Q,{entries:t.headers,type:"header",onChange:a=>{s({...t,headers:a})}})}),e.jsx(k,{value:"path","data-testid":"tab-content-path",children:e.jsx(T,{fieldMatchers:t.path,type:"path",valuePlaceholder:"/pages/keyconcepts/templates.htm",onChange:a=>{s({...t,path:a})}})}),e.jsx(k,{value:"queryParams","data-testid":"tab-content-query",children:e.jsx(Q,{entries:t.query,type:"query",valuePlaceholder:"query=true",onChange:a=>{s({...t,query:a})}})}),e.jsx(k,{value:"scheme","data-testid":"tab-content-scheme",children:e.jsx(T,{fieldMatchers:t.scheme,type:"scheme",valuePlaceholder:"https",onChange:a=>{s({...t,scheme:a})}})})]})]}),R=({elements:t})=>{if(!t)return null;const s=Array.isArray(t)?t.length:Object.keys(t).length;return e.jsx(Dt,{variant:s>0?"default":"secondary",children:s})};function D(t){return JSON.stringify(t,null,4)}function H(t){try{return JSON.parse(t)}catch{return}}function Lt(t){try{const s=JSON.parse(t);return JSON.stringify(s,null,2)}catch{return t}}function At(t){try{return JSON.parse(t),!0}catch{return!1}}function Mt(t){return Object.fromEntries(Object.entries(t).filter(([s,a])=>Array.isArray(a)?a.length>0:Object.keys(a).length>0))}function Ht(t,s){try{return parseInt(t)}catch{return s}}const Vt={theme:"system",setTheme:()=>null},$e=c.createContext(Vt);function Ut({children:t,defaultTheme:s="system",storageKey:a="ui-theme",...o}){const[n,r]=c.useState(()=>localStorage.getItem(a)||s),[d,f]=c.useState();c.useEffect(()=>{const i=window.document.documentElement;if(i.classList.remove("light","dark"),n==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i.classList.add(m),f(m);return}i.classList.add(n),f(n)},[n]);const h={theme:n,appliedTheme:d,setTheme:i=>{localStorage.setItem(a,i),r(i)}};return e.jsx($e.Provider,{...o,value:h,children:t})}const M=()=>{const t=c.useContext($e);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Bt=10,zt=50,_t=({value:t="",onChange:s})=>{const a=c.useRef(),o=c.useRef(),n=c.useMemo(()=>At(t),[t]),[r,d]=c.useState(!1),[f,h]=c.useState(100),{appliedTheme:i}=M(),m=(N,$)=>{a.current=N,o.current=$,u()},u=()=>{var P,p,v,O;if(!((P=o.current)!=null&&P.editor.EditorOption.lineHeight)||!((p=a.current)!=null&&p.getOptions()))return;const $=a.current.getOptions().get(o.current.editor.EditorOption.lineHeight)||18,E=Math.min(Math.max(((O=(v=a.current)==null?void 0:v.getModel())==null?void 0:O.getLineCount())||0,Bt),zt);h($*E)},g=N=>{var $;($=a.current)!=null&&$.hasTextFocus()&&(s(N??""),u())},w=()=>{var N;return d(!!((N=a.current)!=null&&N.hasTextFocus()))};return e.jsx("div",{className:"row gap-2",children:e.jsx("div",{className:"border-x border-y rounded overflow-hidden","data-testid":"response-body-editor",onClick:w,onBlur:w,children:e.jsx(xe,{width:"100%",height:`${f}px`,language:n?"json":"",theme:i==="dark"?"vs-dark":"vs-light",defaultValue:t,onMount:m,onChange:g,options:{wordWrap:"on",smoothScrolling:!1,scrollBeyondLastLine:!1,formatOnType:!0,scrollbar:{handleMouseWheel:r}}})})})};function Wt({id:t,name:s,code:a,onChange:o,dataTestId:n}){return e.jsxs(ve,{"data-testid":n,name:s,value:a,onValueChange:o,children:[e.jsx(B,{id:t,className:"w-full",children:e.jsx(be,{placeholder:"matcher"})}),e.jsxs(z,{children:[e.jsx(l,{value:"100",children:"100 Continue"}),e.jsx(l,{value:"101",children:"101 Switching Protocols"}),e.jsx(l,{value:"200",children:"200 OK"}),e.jsx(l,{value:"201",children:"201 Created"}),e.jsx(l,{value:"202",children:"202 Accepted"}),e.jsx(l,{value:"203",children:"203 Non-Authoritative Information"}),e.jsx(l,{value:"204",children:"204 No Content"}),e.jsx(l,{value:"205",children:"205 Reset Content"}),e.jsx(l,{value:"206",children:"206 Partial Content"}),e.jsx(l,{value:"300",children:"300 Multiple Choices"}),e.jsx(l,{value:"301",children:"301 Moved Permanently"}),e.jsx(l,{value:"302",children:"302 Found"}),e.jsx(l,{value:"303",children:"303 See Other"}),e.jsx(l,{value:"304",children:"304 Not Modified"}),e.jsx(l,{value:"305",children:"305 Use Proxy"}),e.jsx(l,{value:"307",children:"307 Temporary Redirect"}),e.jsx(l,{value:"400",children:"400 Bad Request"}),e.jsx(l,{value:"401",children:"401 Unauthorized"}),e.jsx(l,{value:"402",children:"402 Payment Required"}),e.jsx(l,{value:"403",children:"403 Forbidden"}),e.jsx(l,{value:"404",children:"404 Not Found"}),e.jsx(l,{value:"405",children:"405 Method Not Allowed"}),e.jsx(l,{value:"406",children:"406 Not Acceptable"}),e.jsx(l,{value:"407",children:"407 Proxy Authentication Required"}),e.jsx(l,{value:"408",children:"408 Request Timeout"}),e.jsx(l,{value:"409",children:"409 Conflict"}),e.jsx(l,{value:"410",children:"410 Gone"}),e.jsx(l,{value:"411",children:"411 Length Required"}),e.jsx(l,{value:"412",children:"412 Precondition Failed"}),e.jsx(l,{value:"413",children:"413 Request Entity Too Large"}),e.jsx(l,{value:"414",children:"414 Request-URI Too Long"}),e.jsx(l,{value:"415",children:"415 Unsupported Media Type"}),e.jsx(l,{value:"416",children:"416 Requested Range Not Satisfiable"}),e.jsx(l,{value:"417",children:"417 Expectation Failed"}),e.jsx(l,{value:"500",children:"500 Internal Server Error"}),e.jsx(l,{value:"501",children:"501 Not Implemented"}),e.jsx(l,{value:"502",children:"502 Bad Gateway"}),e.jsx(l,{value:"503",children:"503 Service Unavailable"}),e.jsx(l,{value:"504",children:"504 Gateway Timeout"}),e.jsx(l,{value:"505",children:"505 HTTP Version Not Supported"})]})]})}function Jt({initialHeaderName:t="",initialHeaderValues:s=[],onSubmit:a}){const[o,n]=c.useState(t),[r,d]=c.useState(s.join("&")),f=o&&r,h=c.useRef(null),i=()=>a(o,r.split("&")),m=u=>{var g;u.key==="Enter"&&f&&((g=h.current)==null||g.click())};return e.jsxs("div",{className:"flex flex-col items-start gap-6",children:[e.jsxs(y,{direction:"row",className:"items-center",children:[e.jsx(b,{htmlFor:"headerName",children:"Name"}),e.jsx(S,{id:"headerName",type:"text",className:"w-auto","aria-label":"Header name",value:o,onKeyDown:m,onChange:u=>n(u.target.value)})]}),e.jsxs(y,{direction:"row",className:"items-center",children:[e.jsx(b,{htmlFor:"headerValue",children:"Value"}),e.jsx(S,{id:"headerValue",type:"text",className:"w-auto","aria-label":"Header value",value:r,onKeyDown:m,onChange:u=>d(u.target.value)})]}),e.jsx("div",{className:"w-full flex flex-row justify-end",children:e.jsx(Ze,{disabled:!f,children:e.jsx(j,{disabled:!f,onClick:i,ref:h,children:"Submit"})})})]})}function Y({children:t,onChange:s,initialHeaderName:a="",initialHeaderValues:o=[]}){return e.jsxs(_,{children:[e.jsx(W,{asChild:!0,children:t}),e.jsx(L,{className:"w-120 p-4",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("p",{className:"font-medium leading-none",children:"Add header"}),e.jsx(Jt,{initialHeaderName:a,initialHeaderValues:o,onSubmit:s})]})})]})}const Gt=t=>new Blob([t]).size,Xt=(t,s)=>{if(!s)return;const a=Object.keys(s).find(n=>n.toLowerCase()==="content-length");if(!a||!Array.isArray(s[a])||s[a].length==0)return s;const o={...s};return o[a][0]=String(Gt(t)),o},Kt=({response:t={},onChange:s})=>{const a=r=>{const d=Xt(r,t==null?void 0:t.headers);s({...t,body:r,headers:d})},o=(r,d,f)=>{const h={...t.headers,[r]:d};f&&f!==r&&delete h[f],s({...t,headers:h})},n=r=>{if(!(t!=null&&t.headers))return;const d={...t.headers};delete d[r],s({...t,headers:d})};return e.jsxs("div",{className:"flex flex-col gap-4","data-testid":"response-form",children:[e.jsx(A,{children:"Response"}),e.jsxs("div",{className:"flex gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2 w-4/6",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs(j,{variant:"outline",onClick:()=>t.body&&a(Lt(t.body)),children:[e.jsx(qe,{}),"Prettify"]}),e.jsxs(_,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(j,{variant:"outline",children:[e.jsx(et,{}),"Delay"]})}),e.jsx(L,{className:"w-60 p-4",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("p",{className:"font-medium leading-none",children:"Configure response delay"}),e.jsxs("div",{className:"flex flex-col items-start gap-6",children:[e.jsxs(y,{direction:"column",children:[e.jsxs(b,{htmlFor:"fixedDelay",children:["Fixed Delay ",e.jsx("i",{children:"(ms)"})]}),e.jsx(S,{id:"fixedDelay",type:"number",className:"form-control",value:t.fixedDelay,onChange:({target:r})=>s({...t,fixedDelay:Ht(r.value,void 0)})})]}),e.jsxs(y,{direction:"column",children:[e.jsx(b,{htmlFor:"logNormalDelay",children:"Log Normal Delay"}),e.jsx(S,{id:"logNormalDelay",type:"text",className:"form-control",value:JSON.stringify(t.logNormalDelay),onChange:({target:r})=>s({...t,logNormalDelay:r.value?JSON.parse(r.value):void 0})})]})]})]})})]})]}),e.jsx(_t,{value:t==null?void 0:t.body,onChange:r=>a(r)}),e.jsxs(y,{direction:"row",children:[e.jsx(F,{id:"encodedBody",className:"form-check-input",checked:t.encodedBody||!1,onCheckedChange:r=>s({...t,encodedBody:r?!0:void 0})}),e.jsx(b,{htmlFor:"encodedBody",children:"Encoded body"})]})]}),e.jsxs("div",{className:"flex flex-col gap-6 w-2/6 mt-10",children:[e.jsxs(y,{direction:"column",children:[e.jsx(b,{htmlFor:"status",children:"Status"}),e.jsx(Wt,{id:"status",dataTestId:"response-status-select",code:`${t.status}`,onChange:r=>s({...t,status:parseInt(r)})})]}),e.jsx("div",{children:e.jsxs(y,{direction:"column",children:[e.jsx(b,{className:"mb-1",children:"Headers"}),Object.entries(t.headers??{}).map(([r,d])=>e.jsxs("div",{className:"flex flex-row items-center gap-3",children:[e.jsx(Y,{onChange:(f,h)=>o(f,h,r),initialHeaderName:r,initialHeaderValues:d,children:e.jsxs("div",{className:"break-all text-sm",children:[e.jsxs("span",{className:"text-sm",children:["-"," ",r,": "]}),e.jsx("span",{className:"text-sm",children:d.join(",")})]})}),e.jsx(ue,{className:"cursor-pointer size-4 shrink-0",onClick:()=>n(r),"aria-label":"Delete response header"})]},r))]})}),e.jsx("div",{className:"w-full flex flex-row ",children:e.jsx(Y,{onChange:o,children:e.jsx(j,{variant:"outline",children:"Add header"})})})]})]})]})},Qt=({pair:t,onChange:s})=>{function a(n){const r=Mt(n);s({...t,request:r})}function o(n){s({...t,response:n})}return e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(It,{request:t.request||{},onChange:a}),e.jsx(Kt,{response:t.response||{},onChange:o})]})},Yt=at,Ce=c.forwardRef(({className:t,...s},a)=>e.jsx(tt,{ref:a,className:x("border-b last:border-b-0",t),...s}));Ce.displayName="AccordionItem";const ke=c.forwardRef(({className:t,children:s,...a},o)=>e.jsx(st,{className:"flex",children:e.jsxs(pe,{ref:o,className:x("flex flex-1 items-center justify-between py-4 px-2 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...a,children:[s,e.jsx(U,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ke.displayName=pe.displayName;const Re=c.forwardRef(({className:t,children:s,...a},o)=>e.jsx(je,{ref:o,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down py-4",...a,children:e.jsx("div",{className:x("pb-4 pt-0",t),children:s})}));Re.displayName=je.displayName;function Zt(t){var r,d,f,h;const s=((r=t==null?void 0:t.method)==null?void 0:r.length)&&t.method[0].value||"",a=((d=t==null?void 0:t.scheme)==null?void 0:d.length)&&t.scheme[0].value||"",o=((f=t==null?void 0:t.destination)==null?void 0:f.length)&&t.destination[0].value||"",n=((h=t==null?void 0:t.path)==null?void 0:h.length)&&t.path[0].value||"";return`${s} ${a} ${o} ${n}`.trim()}function Se(t){return{meta:{schemaVersion:"v5.2",hoverflyVersion:"v1.6.0",timeExported:new Date().toISOString()},data:{pairs:t?[{request:{},response:{status:200}}]:[]}}}const qt=nt,es=rt,ts=ot,Te=c.forwardRef(({className:t,sideOffset:s=4,...a},o)=>e.jsx(ge,{ref:o,sideOffset:s,className:x("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));Te.displayName=ge.displayName;const I=({tooltipText:t,placement:s="bottom",children:a})=>e.jsx(qt,{children:e.jsxs(es,{delayDuration:200,children:[e.jsx(ts,{children:a}),e.jsx(Te,{side:s,children:t})]})}),Ee=({requestResponsePairs:t,onChange:s,onOpenPair:a=o=>{}})=>{const[o,n]=c.useState(),r=(i,m)=>{const u=[...t];u[i]=m,s(u)},d=(i,m)=>{i.stopPropagation();const u=[...t];u.splice(m,0,{...u[m]}),s(u)},f=(i,m)=>{i.stopPropagation(),o&&m<o&&n(o-1);const u=[...t];u.splice(m,1),s(u)};function h(){const i={request:{},response:{status:200}};s([...t,i])}return e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[t.length>0&&e.jsx(Yt,{type:"single",collapsible:!0,className:"border rounded-md max-w-[1200px] w-full",children:t.map((i,m)=>{var u;return e.jsxs(Ce,{value:`ìtem-${m}`,children:[e.jsx(ke,{onClick:()=>a(m),children:e.jsxs("div",{className:"w-full flex justify-between items-center cursor-pointer gap-4 px-6",children:[e.jsxs("span",{className:"font-bold",children:[m," - ",Zt(i.request)," →️ ",e.jsx(ss,{status:(u=i.response)==null?void 0:u.status})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(I,{tooltipText:"Duplicate",children:e.jsx(j,{variant:"secondary",type:"button",onClick:g=>d(g,m),children:e.jsx(it,{})})}),e.jsx(I,{tooltipText:"Delete",children:e.jsx(j,{variant:"destructive",type:"button",onClick:g=>f(g,m),children:e.jsx(le,{})})})]})]})}),e.jsx(Re,{children:e.jsx(G,{children:e.jsx(Qt,{pair:i,onChange:g=>r(m,g)})})})]},m)})}),e.jsx("div",{className:"w-full text-center mt-8",children:e.jsx(j,{variant:"default",onClick:h,children:"Add request/response pair"})})]})},ss=({status:t})=>{const{appliedTheme:s}=M(),a=s==="dark";if(!t)return null;function o(n){return n>=100&&n<200?a?"text-yellow-200":"text-yellow-500":n>=200&&n<300?a?"text-green-200":"text-green-500":n>=300&&n<400?a?"text-blue-200":"text-blue-500":n>=400&&n<500?a?"text-orange-200":"text-orange-500":n>=500&&n<600?a?"text-red-200":"text-red-500":""}return e.jsx("span",{className:o(t),children:t})},as={schemaVersion:"v5",hoverflyVersion:"v1.6.0",timeExported:"2023-04-10T12:00:00Z"},ns={pairs:[{request:{path:[{matcher:"exact",value:"/api/users"}],query:{limit:[{matcher:"exact",value:"10"}],offset:[{matcher:"exact",value:"20"}]},headers:{Authorization:[{matcher:"exact",value:"Bearer token"}]},method:[{matcher:"exact",value:"GET"}]},response:{status:200,body:`{
  "users": [
    {
      "id": 1,
      "name": "John Frusciante"
    },
    {
      "id": 2,
      "name": "Flea"
    }
  ]
}`}},{request:{path:[{matcher:"exact",value:"/api/users/1"}],headers:{Authorization:[{matcher:"exact",value:"Bearer token"}]},method:[{matcher:"exact",value:"GET"}]},response:{status:200,body:`    {
      "id": 1,
      "name": "John Frusciante"
    }`}},{request:{method:[{matcher:"exact",value:"GET"}],path:[{matcher:"exact",value:"/api/users/3"}]},response:{status:404}},{request:{method:[{matcher:"exact",value:"POST"}],path:[{matcher:"exact",value:"/api/users"}],body:[{matcher:"regex",value:'{ "name": "*"  }'}]},response:{status:200}}]},rs={meta:as,data:ns};function os(t){const s=c.useRef(!1),a=r=>{s.current&&t(r)},o=()=>{s.current=!1,document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o)},n=()=>{s.current=!0,document.addEventListener("mousemove",a),document.addEventListener("mouseup",o)};return c.useEffect(()=>()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o)},[]),{start:n,stop:o}}function is(t,s,a=1e3){const[o,n]=ct(t,""),r=lt(s,a);return c.useEffect(()=>{s&&n(r)},[r]),o}function Pe({onClick:t=()=>{}}){return e.jsxs("div",{className:"text-center mt-5",children:[e.jsx("h5",{children:"No valid data pairs"}),e.jsx(j,{className:"mt-2",variant:"secondary",onClick:t,children:"Reset simulation"})]})}function Oe(){const{setTheme:t,theme:s}=M(),a=()=>{t(s==="system"?"dark":s==="dark"?"light":"system")};return e.jsx(I,{tooltipText:`Current theme is ${s}`,placement:"right",children:e.jsxs(j,{variant:"secondary",onClick:a,children:[s==="dark"&&e.jsx(dt,{}),s==="light"&&e.jsx(ut,{}),s==="system"&&e.jsx(mt,{})]})})}const Z=8,cs="content";function ls(){var P;const t=c.useRef(),[s,a]=c.useState(),[o,n]=c.useState(window.innerWidth*.57),[r,d]=c.useState(""),f=is(cs,r),h=os(p=>n(p.clientX)),[i,m]=ft(!0),{appliedTheme:u}=M(),g=p=>{const v=f||D(rs);a(H(v)),p.setValue(v),t.current=p,p.focus()};function w(p){var v;(v=t.current)==null||v.setValue(D(p)),a(p)}function N(p){var v;p!==void 0&&(d(p),(v=t.current)!=null&&v.hasTextFocus()&&a(H(p)))}function $(p){const v={...s,data:{...s==null?void 0:s.data,pairs:p}};w(v)}function E(p){var X,K;const O=((X=t.current)==null?void 0:X.getModel()).findMatches('"request"',!0,!1,!0,null,!0);p<O.length&&((K=t.current)==null||K.revealRangeAtTop(O[p].range))}return e.jsxs("div",{className:"flex absolute inset-0 overflow-hidden",style:ds,children:[e.jsxs("div",{className:"p-5 relative overflow-auto flex-grow min-w-[100px] flex flex-col gap-6",style:i?{width:o}:{},children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx(Oe,{}),e.jsx(A,{children:"Simulations"}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{tooltipText:"Toggle JSON editor",children:e.jsx(j,{variant:"secondary",type:"button",onClick:m,children:i?e.jsx(ht,{}):e.jsx(xt,{})})})})]}),(P=s==null?void 0:s.data)!=null&&P.pairs?e.jsx(Ee,{requestResponsePairs:s.data.pairs,onChange:$,onOpenPair:E}):t.current?e.jsx(Pe,{onClick:()=>{w(Se(!1))}}):null]}),e.jsx("div",{className:"top-0 bottom-0 cursor-col-resize z-10 bg-foreground/5 hover:bg-foreground/10",onMouseUp:h.stop,onMouseDown:h.start,style:{width:Z,left:o,display:i?"initial":"none"}}),e.jsx("div",{"data-testid":"text-editor",className:"relative overflow-auto flex-grow min-w-[100px]",style:{width:`calc(100% - ${o}px - ${Z}px)`,display:i?"initial":"none"},children:e.jsx(xe,{width:"100%",height:"100%",defaultLanguage:"json",defaultValue:"",theme:u==="dark"?"vs-dark":"vs-light",onMount:g,onChange:N,options:{wordWrap:"on",smoothScrolling:!0}})})]})}const ds={"--accordion-animation-duration":"0.2s"};function us({simulationData:t,onSimulationUpdate:s=()=>{}}){var r;const a=H(atob(t||""));function o(d){const f={...a,data:{...a==null?void 0:a.data,pairs:d}};s(D(f))}function n(){const d=Se(!0);s(D(d))}return e.jsxs("div",{className:"p-3 flex flex-col gap-6",style:ms,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Oe,{}),e.jsx(A,{children:"Simulations"}),e.jsx("div",{className:"w-[47px]"})]}),(r=a==null?void 0:a.data)!=null&&r.pairs?e.jsx(Ee,{requestResponsePairs:a.data.pairs,onChange:o}):e.jsx(Pe,{onClick:n})]})}const ms={"--accordion-animation-duration":"0s"};self.MonacoEnvironment={getWorker(t,s){return s==="json"?new pt:new jt}};gt.typescript.typescriptDefaults.setEagerModelSync(!0);vt.config({monaco:bt});function fs(){const[t,s]=c.useState(window.hoverflyUi_initialSimulationData);return c.useEffect(()=>{window.hoverflyUi_setUiSimulation=s},[]),window.hoverflyUi_enablePluginMode?e.jsx(us,{simulationData:t,onSimulationUpdate:window.hoverflyUi_onUiSimulationChange}):e.jsx(ls,{})}const hs=yt.createRoot(document.getElementById("root"));hs.render(e.jsx(Nt.StrictMode,{children:e.jsx(Ut,{children:e.jsx(fs,{})})}));
