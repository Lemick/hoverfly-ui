import{t as Fe,c as De,r as c,j as e,$ as q,a as Ae,C as Le,b as ee,d as U,e as te,f as Me,g as B,h as ae,i as Ve,k as se,l as He,m as ne,n as Ue,o as re,p as oe,q as Be,s as ze,u as _e,v as ie,w as Je,x as We,y as Ge,z as Xe,A as ce,B as Ke,D as Ze,F as le,G as Qe,T as de,P as ue,E as me,H as fe,I as he,J as xe,K as Ye,L as qe,M as et,Z as tt,N as at,O as st,Q as nt,R as pe,S as ge,U as rt,V as je,W as ot,X as it,Y as ct,_ as lt,a0 as dt,a1 as ut,a2 as mt,a3 as ft,a4 as ht,a5 as xt,a6 as pt,a7 as gt,a8 as jt,a9 as vt,aa as bt,ab as yt,ac as wt,ad as Nt,ae as $t,af as Ct}from"./vendor-H8NLPuW1.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();function x(...t){return Fe(De(t))}const F=c.forwardRef(({className:t,...a},s)=>e.jsx(q,{ref:s,className:x("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...a,children:e.jsx(Ae,{className:x("flex items-center justify-center text-current"),children:e.jsx(Le,{className:"h-4 w-4"})})}));F.displayName=q.displayName;const St=U("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),N=c.forwardRef(({className:t,...a},s)=>e.jsx(ee,{ref:s,className:x(St(),t),...a}));N.displayName=ee.displayName;const E=c.forwardRef(({className:t,type:a,value:s,onChange:n,...r},o)=>{const[u,m]=c.useState(s);return e.jsx("input",{type:a,value:u,onChange:f=>{m(f.target.value),n&&n(f)},className:x("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...r})});E.displayName="Input";const ve=Je,be=We,z=c.forwardRef(({className:t,children:a,...s},n)=>e.jsxs(te,{ref:n,className:x("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[a,e.jsx(Me,{asChild:!0,children:e.jsx(B,{className:"h-4 w-4 opacity-50"})})]}));z.displayName=te.displayName;const ye=c.forwardRef(({className:t,...a},s)=>e.jsx(ae,{ref:s,className:x("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(Ve,{className:"h-4 w-4"})}));ye.displayName=ae.displayName;const we=c.forwardRef(({className:t,...a},s)=>e.jsx(se,{ref:s,className:x("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(B,{className:"h-4 w-4"})}));we.displayName=se.displayName;const _=c.forwardRef(({className:t,children:a,position:s="popper",...n},r)=>e.jsx(He,{children:e.jsxs(ne,{ref:r,className:x("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[e.jsx(ye,{}),e.jsx(Ue,{className:x("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(we,{})]})}));_.displayName=ne.displayName;const Tt=c.forwardRef(({className:t,...a},s)=>e.jsx(re,{ref:s,className:x("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a}));Tt.displayName=re.displayName;const l=c.forwardRef(({className:t,children:a,...s},n)=>e.jsxs(oe,{ref:n,className:x("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Be,{children:e.jsx(ze,{className:"h-4 w-4"})})}),e.jsx(_e,{children:a})]}));l.displayName=oe.displayName;const kt=c.forwardRef(({className:t,...a},s)=>e.jsx(ie,{ref:s,className:x("-mx-1 my-1 h-px bg-muted",t),...a}));kt.displayName=ie.displayName;const Rt=U("inline-flex items-center gap-2 justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/60",destructive:"bg-destructive/90 text-destructive-foreground hover:bg-destructive/60",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/60",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=c.forwardRef(({className:t,variant:a,size:s,asChild:n=!1,...r},o)=>{const u=n?Ge:"button";return e.jsx(u,{className:x(Rt({variant:a,size:s,className:t})),ref:o,...r})});j.displayName="Button";function $({children:t,direction:a,className:s}){return e.jsx("div",{className:x("flex gap-2 items-start [&>*]:cursor-pointer",a==="column"?"flex-col":"flex-row",s),children:t})}const J=Ke,W=Ze,L=c.forwardRef(({className:t,align:a="center",sideOffset:s=4,...n},r)=>e.jsx(Xe,{children:e.jsx(ce,{ref:r,align:a,sideOffset:s,className:x("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));L.displayName=ce.displayName;function D(t){return JSON.stringify(t,null,4)}function H(t){try{return JSON.parse(t)}catch{return}}function Et(t){try{const a=JSON.parse(t);return JSON.stringify(a,null,2)}catch{return t}}function It(t){try{return JSON.stringify(JSON.parse(t))}catch{return t}}function Pt(t){try{return JSON.parse(t),!0}catch{return!1}}function Ot(t){return Object.fromEntries(Object.entries(t).filter(([a,s])=>Array.isArray(s)?s.length>0:Object.keys(s).length>0))}function Ft(t,a){try{return parseInt(t)}catch{return a}}const Dt={theme:"system",setTheme:()=>null},Ne=c.createContext(Dt);function At({children:t,defaultTheme:a="system",storageKey:s="ui-theme",...n}){const[r,o]=c.useState(()=>localStorage.getItem(s)||a),[u,m]=c.useState();c.useEffect(()=>{const i=window.document.documentElement;if(i.classList.remove("light","dark"),r==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i.classList.add(d),m(d);return}i.classList.add(r),m(r)},[r]);const f={theme:r,appliedTheme:u,setTheme:i=>{localStorage.setItem(s,i),o(i)}};return e.jsx(Ne.Provider,{...n,value:f,children:t})}const M=()=>{const t=c.useContext(Ne);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Lt=16,Mt=50,$e=({value:t="",onChange:a,dataTestId:s})=>{const n=c.useRef(),r=c.useRef(),o=c.useMemo(()=>Pt(t),[t]),[u,m]=c.useState(!1),[f,i]=c.useState(100),{appliedTheme:d}=M();c.useEffect(()=>{var v,w,C;!((v=n.current)!=null&&v.hasTextFocus())&&((w=n.current)==null?void 0:w.getValue())!=t&&((C=n.current)==null||C.setValue(t))},[t]);const h=(v,w)=>{n.current=v,r.current=w,b()},b=()=>{var g,y,P,O;if(!((g=r.current)!=null&&g.editor.EditorOption.lineHeight)||!((y=n.current)!=null&&y.getOptions()))return;const w=n.current.getOptions().get(r.current.editor.EditorOption.lineHeight)||18,C=Math.min(Math.max(((O=(P=n.current)==null?void 0:P.getModel())==null?void 0:O.getLineCount())||0,Lt),Mt);i(w*C)},p=v=>{var w;(w=n.current)!=null&&w.hasTextFocus()&&(a(v??""),b())},S=()=>{var v;return m(!!((v=n.current)!=null&&v.hasTextFocus()))};return e.jsx("div",{className:"row gap-2",children:e.jsx("div",{className:"border-x border-y rounded overflow-hidden","data-testid":s,onClick:S,onBlur:S,children:e.jsx(le,{width:"100%",height:`${f}px`,language:o?"json":"",theme:d==="dark"?"vs-dark":"vs-light",defaultValue:t,onMount:h,onChange:p,options:{wordWrap:"on",smoothScrolling:!1,scrollBeyondLastLine:!1,formatOnType:!0,scrollbar:{handleMouseWheel:u}}})})})},Vt=({id:t,fieldMatcher:a={matcher:"exact",value:""},onChange:s,onDeleteRequest:n,valuePlaceholder:r,forceFullEditor:o})=>{var d,h,b;const u=o||a.matcher==="json"||a.matcher==="jsonPartial",m=(p,S)=>{const v={...a,[p]:S};s(v)},f=(p,S)=>{const v={...a.config,[p]:S},w=Object.values(v).some(g=>g),C={...a,config:w?v:void 0};s(C)},i=p=>`${t}_${p}`;return e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex flex-row gap-3 items-start",children:[e.jsxs($,{direction:"column",children:[e.jsx(N,{htmlFor:i("select-matcher"),children:"Matcher"}),e.jsxs(ve,{name:"matcher",value:a.matcher,onValueChange:p=>m("matcher",p),children:[e.jsx(z,{id:i("select-matcher"),className:"w-[180px]","data-testid":"select-matcher",children:e.jsx(be,{placeholder:"matcher"})}),e.jsxs(_,{"data-testid":"select-matcher-options",children:[e.jsx(l,{value:"exact",children:"Exact"}),e.jsx(l,{value:"glob",children:"Glob"}),e.jsx(l,{value:"regex",children:"Regex"}),e.jsx(l,{value:"json",children:"JSON"}),e.jsx(l,{value:"jsonPartial",children:"JSON Partial"}),e.jsx(l,{value:"jsonPath",children:"JSON Path"}),e.jsx(l,{value:"xml",children:"XML"}),e.jsx(l,{value:"xpath",children:"XPath"})]})]})]}),e.jsxs($,{direction:"column",className:"w-full",children:[e.jsx(N,{htmlFor:i("matcher-value"),children:"Value"}),u?e.jsx("div",{className:"flex flex-col gap-2 w-full",children:e.jsx($e,{value:a.value,dataTestId:"request-editor",onChange:p=>m("value",p)})}):e.jsx(E,{id:i("matcher-value"),type:"text",name:"value",placeholder:r,value:a.value,onChange:p=>m("value",p.target.value)})]}),e.jsxs("div",{className:"flex gap-2 mt-[22px]",children:[e.jsxs(J,{children:[e.jsx(W,{asChild:!0,children:e.jsx(j,{variant:"outline","aria-label":"Advanced options",children:e.jsx(Qe,{})})}),e.jsx(L,{className:"w-50 p-4",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("p",{className:"font-medium leading-none",children:"Advanced options"}),e.jsxs("div",{className:"flex flex-col items-start gap-3",children:[e.jsxs($,{direction:"row",className:"items-center",children:[e.jsx(F,{id:i("ignoreUnknown"),name:"ignoreUnknown",checked:!!((d=a.config)!=null&&d.ignoreUnknown),onCheckedChange:p=>f("ignoreUnknown",!!p)}),e.jsx(N,{htmlFor:i("ignoreUnknown"),children:"Ignore Unknown"})]}),e.jsxs($,{direction:"row",className:"items-center",children:[e.jsx(F,{id:i("ignoreOrder"),name:"ignoreOrder",checked:!!((h=a.config)!=null&&h.ignoreOrder),onCheckedChange:p=>f("ignoreOrder",!!p)}),e.jsx(N,{htmlFor:i("ignoreOrder"),children:"Ignore Order"})]}),e.jsxs($,{direction:"row",className:"items-center",children:[e.jsx(F,{id:i("ignoreOccurrences"),name:"ignoreOccurrences",checked:!!((b=a.config)!=null&&b.ignoreOccurrences),onCheckedChange:p=>f("ignoreOccurrences",!!p)}),e.jsx(N,{htmlFor:i("ignoreOccurrences"),children:"Ignore Occurrences"})]})]})]})})]}),e.jsx(j,{variant:"destructive",onClick:n,children:e.jsx(de,{})})]})]})})},G=c.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:x("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a}));G.displayName="Card";const Ht=c.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:x("flex flex-col space-y-1.5 p-6",t),...a}));Ht.displayName="CardHeader";const Ut=c.forwardRef(({className:t,...a},s)=>e.jsx("h3",{ref:s,className:x("text-2xl font-semibold leading-none tracking-tight",t),...a}));Ut.displayName="CardTitle";const Bt=c.forwardRef(({className:t,...a},s)=>e.jsx("p",{ref:s,className:x("text-sm text-muted-foreground",t),...a}));Bt.displayName="CardDescription";const X=c.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:x("p-6 pt-0",t),...a}));X.displayName="CardContent";const zt=c.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:x("flex items-center p-6 pt-0",t),...a}));zt.displayName="CardFooter";const I=({fieldMatchers:t=[],type:a,onChange:s,valuePlaceholder:n,forceFullEditor:r=!1})=>{const o=c.useMemo(()=>Math.random(),[]),u=()=>{s([...t,{matcher:"exact",value:""}])},m=(i,d)=>{const h=[...t];h[i]=d,s(h)},f=i=>{const d=[...t];d.splice(i,1),s(d)};return e.jsxs("div",{className:"flex flex-col gap-3",children:[t.map((i,d)=>e.jsx(G,{className:"p-4",children:e.jsx(Vt,{id:`${o}_idx${d}`,fieldMatcher:i,onChange:h=>m(d,h),onDeleteRequest:()=>f(d),valuePlaceholder:n,forceFullEditor:r})},d)),e.jsx("div",{className:"w-full flex flex-row justify-center","data-testid":"add-matcher-button",children:(t==null?void 0:t.length)===0?e.jsx(j,{className:"w-[400px] mt-6 mb-6",variant:"secondary",onClick:u,children:e.jsx("span",{children:`Add first field matcher for ${a}`})}):e.jsx(j,{className:"w-[150px] h-8",variant:"ghost",onClick:u,children:e.jsx(ue,{height:18,width:18})})})]})},Z=({entries:t={},type:a,onChange:s,valuePlaceholder:n})=>{const[r,o]=c.useState(""),u=()=>{!r||t[r]||(s({[r]:[],...t}),o(""))},m=(i,d)=>{s({...t,[i]:d})},f=i=>{const d={...t};delete d[i],s(d)};return e.jsx(G,{children:e.jsxs(X,{className:"p-4 flex flex-col gap-0",children:[e.jsxs("div",{className:"flex flex-row gap-2 mb-4",children:[e.jsx(E,{type:"text",placeholder:`Enter the name of the new ${a}`,value:r,onKeyDown:i=>i.key==="Enter"?u():void 0,onChange:i=>o(i.target.value)}),e.jsxs(j,{className:"flex gap-2",variant:"default",onClick:u,disabled:!r,children:[e.jsx(ue,{})," Add"]})]}),Object.entries(t).map(([i,d])=>e.jsxs("fieldset",{children:[e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsx("span",{className:"w-auto fw-bold inline text-lg",children:i}),e.jsx(j,{variant:"ghost",onClick:()=>f(i),className:"w-auto",children:e.jsx(me,{})})]}),e.jsx("div",{children:e.jsx(I,{fieldMatchers:d,type:`${a} '${i}'`,onChange:h=>m(i,h),valuePlaceholder:n})})]},i))]})})},_t=Ye,Ce=c.forwardRef(({className:t,...a},s)=>e.jsx(fe,{ref:s,className:x("inline-flex w-full h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a}));Ce.displayName=fe.displayName;const T=c.forwardRef(({className:t,...a},s)=>e.jsx(he,{ref:s,className:x("inline-flex flex-grow items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a}));T.displayName=he.displayName;const k=c.forwardRef(({className:t,...a},s)=>e.jsx(xe,{ref:s,className:x("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a}));k.displayName=xe.displayName;function V({children:t}){return e.jsx("h2",{className:"scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight first:mt-0",children:t})}const Jt=U("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary/80 text-primary-foreground hover:bg-primary/40",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wt({className:t,variant:a,...s}){return e.jsx("div",{className:x(Jt({variant:a}),t),...s})}const Gt=({request:t,onChange:a})=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(V,{children:"Request"}),e.jsxs(_t,{defaultValue:"method",children:[e.jsxs(Ce,{children:[e.jsxs(T,{value:"method",children:["Method  ",e.jsx(R,{elements:t.method})]}),e.jsxs(T,{value:"scheme",children:["Scheme  ",e.jsx(R,{elements:t.scheme})]}),e.jsxs(T,{value:"destination",children:["Destination   ",e.jsx(R,{elements:t.destination})]}),e.jsxs(T,{value:"path",children:["Path  ",e.jsx(R,{elements:t.path})]}),e.jsxs(T,{value:"queryParams",children:["Query Params  ",e.jsx(R,{elements:t.query})]}),e.jsxs(T,{value:"headers",children:["Headers  ",e.jsx(R,{elements:t.headers})]}),e.jsxs(T,{value:"body",children:["Body  ",e.jsx(R,{elements:t.body})]})]}),e.jsx(k,{value:"method","data-testid":"tab-content-method",children:e.jsx(I,{fieldMatchers:t.method,type:"method",valuePlaceholder:"GET",onChange:s=>a({...t,method:s})})}),e.jsx(k,{value:"body","data-testid":"tab-content-body",children:e.jsx(I,{fieldMatchers:t.body,type:"body",valuePlaceholder:'{"key": "value"}',onChange:s=>a({...t,body:s}),forceFullEditor:!0})}),e.jsx(k,{value:"destination","data-testid":"tab-content-destination",children:e.jsx(I,{fieldMatchers:t.destination,type:"destination",valuePlaceholder:"hoverfly.io",onChange:s=>a({...t,destination:s})})}),e.jsx(k,{value:"headers","data-testid":"tab-content-headers",children:e.jsx(Z,{entries:t.headers,type:"header",onChange:s=>{a({...t,headers:s})}})}),e.jsx(k,{value:"path","data-testid":"tab-content-path",children:e.jsx(I,{fieldMatchers:t.path,type:"path",valuePlaceholder:"/pages/keyconcepts/templates.htm",onChange:s=>{a({...t,path:s})}})}),e.jsx(k,{value:"queryParams","data-testid":"tab-content-query",children:e.jsx(Z,{entries:t.query,type:"query",valuePlaceholder:"query=true",onChange:s=>{a({...t,query:s})}})}),e.jsx(k,{value:"scheme","data-testid":"tab-content-scheme",children:e.jsx(I,{fieldMatchers:t.scheme,type:"scheme",valuePlaceholder:"https",onChange:s=>{a({...t,scheme:s})}})})]})]}),R=({elements:t})=>{if(!t)return null;const a=Array.isArray(t)?t.length:Object.keys(t).length;return e.jsx(Wt,{variant:a>0?"default":"secondary",children:a})};function Xt({id:t,name:a,code:s,onChange:n,dataTestId:r}){return e.jsxs(ve,{"data-testid":r,name:a,value:s,onValueChange:n,children:[e.jsx(z,{id:t,className:"w-full",children:e.jsx(be,{placeholder:"matcher"})}),e.jsxs(_,{children:[e.jsx(l,{value:"100",children:"100 Continue"}),e.jsx(l,{value:"101",children:"101 Switching Protocols"}),e.jsx(l,{value:"200",children:"200 OK"}),e.jsx(l,{value:"201",children:"201 Created"}),e.jsx(l,{value:"202",children:"202 Accepted"}),e.jsx(l,{value:"203",children:"203 Non-Authoritative Information"}),e.jsx(l,{value:"204",children:"204 No Content"}),e.jsx(l,{value:"205",children:"205 Reset Content"}),e.jsx(l,{value:"206",children:"206 Partial Content"}),e.jsx(l,{value:"300",children:"300 Multiple Choices"}),e.jsx(l,{value:"301",children:"301 Moved Permanently"}),e.jsx(l,{value:"302",children:"302 Found"}),e.jsx(l,{value:"303",children:"303 See Other"}),e.jsx(l,{value:"304",children:"304 Not Modified"}),e.jsx(l,{value:"305",children:"305 Use Proxy"}),e.jsx(l,{value:"307",children:"307 Temporary Redirect"}),e.jsx(l,{value:"400",children:"400 Bad Request"}),e.jsx(l,{value:"401",children:"401 Unauthorized"}),e.jsx(l,{value:"402",children:"402 Payment Required"}),e.jsx(l,{value:"403",children:"403 Forbidden"}),e.jsx(l,{value:"404",children:"404 Not Found"}),e.jsx(l,{value:"405",children:"405 Method Not Allowed"}),e.jsx(l,{value:"406",children:"406 Not Acceptable"}),e.jsx(l,{value:"407",children:"407 Proxy Authentication Required"}),e.jsx(l,{value:"408",children:"408 Request Timeout"}),e.jsx(l,{value:"409",children:"409 Conflict"}),e.jsx(l,{value:"410",children:"410 Gone"}),e.jsx(l,{value:"411",children:"411 Length Required"}),e.jsx(l,{value:"412",children:"412 Precondition Failed"}),e.jsx(l,{value:"413",children:"413 Request Entity Too Large"}),e.jsx(l,{value:"414",children:"414 Request-URI Too Long"}),e.jsx(l,{value:"415",children:"415 Unsupported Media Type"}),e.jsx(l,{value:"416",children:"416 Requested Range Not Satisfiable"}),e.jsx(l,{value:"417",children:"417 Expectation Failed"}),e.jsx(l,{value:"500",children:"500 Internal Server Error"}),e.jsx(l,{value:"501",children:"501 Not Implemented"}),e.jsx(l,{value:"502",children:"502 Bad Gateway"}),e.jsx(l,{value:"503",children:"503 Service Unavailable"}),e.jsx(l,{value:"504",children:"504 Gateway Timeout"}),e.jsx(l,{value:"505",children:"505 HTTP Version Not Supported"})]})]})}function Kt({initialHeaderName:t="",initialHeaderValues:a=[],onSubmit:s}){const[n,r]=c.useState(t),[o,u]=c.useState(a.join("&")),m=n&&o,f=c.useRef(null),i=()=>s(n,o.split("&")),d=h=>{var b;h.key==="Enter"&&m&&((b=f.current)==null||b.click())};return e.jsxs("div",{className:"flex flex-col items-start gap-6",children:[e.jsxs($,{direction:"row",className:"items-center gap-4",children:[e.jsx(N,{htmlFor:"headerName",children:"Name"}),e.jsx(E,{id:"headerName",type:"text",className:"w-auto","aria-label":"Header name",value:n,onKeyDown:d,onChange:h=>r(h.target.value)})]}),e.jsxs($,{direction:"row",className:"items-center gap-4",children:[e.jsx(N,{htmlFor:"headerValue",children:"Value"}),e.jsx(E,{id:"headerValue",type:"text",className:"w-auto","aria-label":"Header value",value:o,onKeyDown:d,onChange:h=>u(h.target.value)})]}),e.jsx("div",{className:"w-full flex flex-row justify-end",children:e.jsx(qe,{disabled:!m,children:e.jsx(j,{disabled:!m,onClick:i,ref:f,children:"Submit"})})})]})}function Q({children:t,onChange:a,initialHeaderName:s="",initialHeaderValues:n=[]}){return e.jsxs(J,{children:[e.jsx(W,{asChild:!0,children:t}),e.jsx(L,{className:"w-120 p-4",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("p",{className:"font-medium leading-none",children:"Add header"}),e.jsx(Kt,{initialHeaderName:s,initialHeaderValues:n,onSubmit:a})]})})]})}const Zt=t=>new Blob([t]).size,Qt=(t,a)=>{if(!a)return;const s=Object.keys(a).find(r=>r.toLowerCase()==="content-length");if(!s||!Array.isArray(a[s])||a[s].length==0)return a;const n={...a};return n[s][0]=String(Zt(t)),n},Yt=({response:t={},onChange:a})=>{const s=o=>{const u=Qt(o,t==null?void 0:t.headers);a({...t,body:o,headers:u})},n=(o,u,m)=>{const f={...t.headers,[o]:u};m&&m!==o&&delete f[m],a({...t,headers:f})},r=o=>{if(!(t!=null&&t.headers))return;const u={...t.headers};delete u[o],a({...t,headers:u})};return e.jsxs("div",{className:"flex flex-col gap-4","data-testid":"response-form",children:[e.jsx(V,{children:"Response"}),e.jsxs("div",{className:"flex gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2 w-4/6",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs(j,{variant:"outline",onClick:()=>t.body&&s(Et(t.body)),children:[e.jsx(et,{}),"Prettify"]}),e.jsxs(j,{variant:"outline",onClick:()=>t.body&&s(It(t.body)),children:[e.jsx(tt,{className:"size-5"}),"Minify"]}),e.jsxs(J,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(j,{variant:"outline",children:[e.jsx(at,{}),"Delay"]})}),e.jsx(L,{className:"w-60 p-4",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("p",{className:"font-medium leading-none",children:"Configure response delay"}),e.jsxs("div",{className:"flex flex-col items-start gap-6",children:[e.jsxs($,{direction:"column",children:[e.jsx(N,{htmlFor:"fixedDelay",children:"Fixed Delay (ms)"}),e.jsx(E,{id:"fixedDelay",type:"number",className:"form-control",value:t.fixedDelay,onChange:({target:o})=>a({...t,fixedDelay:Ft(o.value,void 0)})})]}),e.jsxs($,{direction:"column",children:[e.jsx(N,{htmlFor:"logNormalDelay",children:"Log Normal Delay"}),e.jsx(E,{id:"logNormalDelay",type:"text",className:"form-control",value:JSON.stringify(t.logNormalDelay),onChange:({target:o})=>a({...t,logNormalDelay:o.value?JSON.parse(o.value):void 0})})]})]})]})})]})]}),e.jsx($e,{value:t==null?void 0:t.body,onChange:o=>s(o),dataTestId:"response-body-editor"}),e.jsxs($,{direction:"row",className:"items-center",children:[e.jsx(F,{id:"encodedBody",className:"form-check-input",checked:t.encodedBody||!1,onCheckedChange:o=>a({...t,encodedBody:o?!0:void 0})}),e.jsx(N,{htmlFor:"encodedBody",children:"Encoded body"})]})]}),e.jsxs("div",{className:"flex flex-col gap-6 w-2/6 mt-10",children:[e.jsxs($,{direction:"column",children:[e.jsx(N,{htmlFor:"status",children:"Status"}),e.jsx(Xt,{id:"status",dataTestId:"response-status-select",code:`${t.status}`,onChange:o=>a({...t,status:parseInt(o)})})]}),e.jsx("div",{children:e.jsxs($,{direction:"column",children:[e.jsx(N,{className:"mb-1",children:"Headers"}),Object.entries(t.headers??{}).map(([o,u])=>e.jsxs("div",{className:"flex flex-row items-center gap-3",children:[e.jsx(Q,{onChange:(m,f)=>n(m,f,o),initialHeaderName:o,initialHeaderValues:u,children:e.jsxs("div",{className:"break-all text-sm",children:[e.jsxs("span",{className:"text-sm",children:["-"," ",o,": "]}),e.jsx("span",{className:"text-sm",children:u.join(",")})]})}),e.jsx(me,{className:"cursor-pointer size-4 shrink-0",onClick:()=>r(o),"aria-label":"Delete response header"})]},o))]})}),e.jsx("div",{className:"w-full flex flex-row",children:e.jsx(Q,{onChange:n,children:e.jsx(j,{variant:"outline",children:"Add header"})})})]})]})]})},qt=({pair:t,onChange:a})=>{function s(r){const o=Ot(r);a({...t,request:o})}function n(r){a({...t,response:r})}return e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(Gt,{request:t.request||{},onChange:s}),e.jsx(Yt,{response:t.response||{},onChange:n})]})},ea=rt,Se=c.forwardRef(({className:t,...a},s)=>e.jsx(st,{ref:s,className:x("border-b last:border-b-0",t),...a}));Se.displayName="AccordionItem";const Te=c.forwardRef(({className:t,children:a,...s},n)=>e.jsx(nt,{className:"flex",children:e.jsxs(pe,{ref:n,className:x("max-w-[100%] flex flex-1 items-center justify-between py-4 px-2 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[a,e.jsx(B,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Te.displayName=pe.displayName;const ke=c.forwardRef(({className:t,children:a,...s},n)=>e.jsx(ge,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down py-4",...s,children:e.jsx("div",{className:x("pb-4 pt-0",t),children:a})}));ke.displayName=ge.displayName;function ta(t){var o,u,m,f;const a=((o=t==null?void 0:t.method)==null?void 0:o.length)&&t.method[0].value||"",s=((u=t==null?void 0:t.scheme)==null?void 0:u.length)&&t.scheme[0].value||"",n=((m=t==null?void 0:t.destination)==null?void 0:m.length)&&t.destination[0].value||"",r=((f=t==null?void 0:t.path)==null?void 0:f.length)&&t.path[0].value||"";return`${a} ${s} ${n} ${r}`.trim()}function Re(t){return{meta:{schemaVersion:"v5.2",hoverflyVersion:"v1.6.0",timeExported:new Date().toISOString()},data:{pairs:t?[{request:{},response:{status:200}}]:[]}}}const aa=ot,sa=it,na=ct,Ee=c.forwardRef(({className:t,sideOffset:a=4,...s},n)=>e.jsx(je,{ref:n,sideOffset:a,className:x("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Ee.displayName=je.displayName;const A=({tooltipText:t,placement:a="bottom",children:s})=>e.jsx(aa,{children:e.jsxs(sa,{delayDuration:200,children:[e.jsx(na,{children:s}),e.jsx(Ee,{side:a,children:t})]})}),Ie=({requestResponsePairs:t,onChange:a,onOpenPair:s=n=>{}})=>{const[n,r]=c.useState(),o=(i,d)=>{const h=[...t];h[i]=d,a(h)},u=(i,d)=>{i.stopPropagation();const h=[...t];h.splice(d,0,{...h[d]}),a(h)},m=(i,d)=>{i.stopPropagation(),n&&d<n&&r(n-1);const h=[...t];h.splice(d,1),a(h)};function f(){const i={request:{},response:{status:200}};a([...t,i])}return e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[t.length>0&&e.jsx(ea,{type:"single",collapsible:!0,className:"border rounded-md max-w-[1200px] w-full",children:t.map((i,d)=>{var h;return e.jsxs(Se,{value:`ìtem-${d}`,children:[e.jsx(Te,{onClick:()=>s(d),children:e.jsxs("div",{className:"w-full flex justify-between items-center cursor-pointer gap-4 px-6",children:[e.jsxs("span",{className:"font-bold text-ellipsis overflow-hidden whitespace-nowrap",children:[d," - ",ta(i.request)," →️ ",e.jsx(ra,{status:(h=i.response)==null?void 0:h.status})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(A,{tooltipText:"Duplicate",children:e.jsx(j,{variant:"secondary",type:"button",onClick:b=>u(b,d),children:e.jsx(lt,{})})}),e.jsx(A,{tooltipText:"Delete",children:e.jsx(j,{variant:"destructive",type:"button",onClick:b=>m(b,d),children:e.jsx(de,{})})})]})]})}),e.jsx(ke,{children:e.jsx(X,{children:e.jsx(qt,{pair:i,onChange:b=>o(d,b)})})})]},d)})}),e.jsx("div",{className:"w-full text-center mt-8",children:e.jsx(j,{variant:"default",onClick:f,children:"Add request/response pair"})})]})},ra=({status:t})=>{const{appliedTheme:a}=M(),s=a==="dark";if(!t)return null;function n(r){return r>=100&&r<200?s?"text-yellow-200":"text-yellow-500":r>=200&&r<300?s?"text-green-200":"text-green-500":r>=300&&r<400?s?"text-blue-200":"text-blue-500":r>=400&&r<500?s?"text-orange-200":"text-orange-500":r>=500&&r<600?s?"text-red-200":"text-red-500":""}return e.jsx("span",{className:n(t),children:t})},oa={schemaVersion:"v5",hoverflyVersion:"v1.6.0",timeExported:"2023-04-10T12:00:00Z"},ia={pairs:[{request:{path:[{matcher:"exact",value:"/api/users"}],query:{limit:[{matcher:"exact",value:"10"}],offset:[{matcher:"exact",value:"20"}]},headers:{Authorization:[{matcher:"exact",value:"Bearer token"}]},method:[{matcher:"exact",value:"GET"}]},response:{status:200,body:`{
  "users": [
    {
      "id": 1,
      "name": "John Frusciante"
    },
    {
      "id": 2,
      "name": "Flea"
    }
  ]
}`}},{request:{path:[{matcher:"exact",value:"/api/users/1"}],headers:{Authorization:[{matcher:"exact",value:"Bearer token"}]},method:[{matcher:"exact",value:"GET"}]},response:{status:200,body:`    {
      "id": 1,
      "name": "John Frusciante"
    }`}},{request:{method:[{matcher:"exact",value:"GET"}],path:[{matcher:"exact",value:"/api/users/3"}]},response:{status:404}},{request:{method:[{matcher:"exact",value:"POST"}],path:[{matcher:"exact",value:"/api/users"}],body:[{matcher:"regex",value:'{ "name": "*"  }'}]},response:{status:200}}]},ca={meta:oa,data:ia};function la(t){const a=c.useRef(!1),s=o=>{a.current&&t(o)},n=()=>{a.current=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n)},r=()=>{a.current=!0,document.addEventListener("mousemove",s),document.addEventListener("mouseup",n)};return c.useEffect(()=>()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n)},[]),{start:r,stop:n}}function da(t,a,s=1e3){const[n,r]=dt(t,""),o=ut(a,s);return c.useEffect(()=>{a&&r(o)},[o]),n}function Pe({onClick:t=()=>{}}){return e.jsxs("div",{className:"text-center mt-5",children:[e.jsx("h5",{children:"No valid data pairs"}),e.jsxs(j,{className:"mt-2",variant:"secondary",onClick:t,children:[e.jsx(mt,{}),"Reset simulation"]})]})}function Oe(){const{setTheme:t,theme:a}=M(),s=()=>{t(a==="system"?"dark":a==="dark"?"light":"system")};return e.jsx(A,{tooltipText:`Current theme is ${a}`,placement:"right",children:e.jsxs(j,{variant:"secondary",onClick:s,children:[a==="dark"&&e.jsx(ft,{}),a==="light"&&e.jsx(ht,{}),a==="system"&&e.jsx(xt,{})]})})}const Y=8,ua="content";function ma(){var C;const t=c.useRef(),[a,s]=c.useState(),[n,r]=c.useState(window.innerWidth*.57),[o,u]=c.useState(""),m=da(ua,o),f=la(g=>r(g.clientX)),[i,d]=pt(!0),{appliedTheme:h}=M(),b=g=>{const y=m||D(ca);s(H(y)),g.setValue(y),t.current=g,g.focus()};function p(g){var y;(y=t.current)==null||y.setValue(D(g)),s(g)}function S(g){var y;g!==void 0&&(u(g),(y=t.current)!=null&&y.hasTextFocus()&&s(H(g)))}function v(g){const y={...a,data:{...a==null?void 0:a.data,pairs:g}};p(y)}function w(g){var O,K;const P=((O=t.current)==null?void 0:O.getModel()).findMatches('"request"',!0,!1,!0,null,!0);g<P.length&&((K=t.current)==null||K.revealRangeAtTop(P[g].range))}return e.jsxs("div",{className:"flex absolute inset-0 overflow-hidden",style:fa,children:[e.jsxs("div",{className:"p-5 relative overflow-auto flex-grow min-w-[100px] flex flex-col gap-6",style:i?{width:n}:{},children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx(Oe,{}),e.jsx(V,{children:"Simulations"}),e.jsx("div",{className:"flex justify-end",children:e.jsx(A,{tooltipText:"Toggle JSON editor",children:e.jsx(j,{variant:"secondary",type:"button",onClick:d,children:i?e.jsx(gt,{}):e.jsx(jt,{})})})})]}),(C=a==null?void 0:a.data)!=null&&C.pairs?e.jsx(Ie,{requestResponsePairs:a.data.pairs,onChange:v,onOpenPair:w}):t.current?e.jsx(Pe,{onClick:()=>{p(Re(!1))}}):null]}),e.jsx("div",{className:"top-0 bottom-0 cursor-col-resize z-10 bg-foreground/5 hover:bg-foreground/10",onMouseUp:f.stop,onMouseDown:f.start,style:{width:Y,left:n,display:i?"initial":"none"}}),e.jsx("div",{"data-testid":"text-editor",className:"relative overflow-auto flex-grow min-w-[100px]",style:{width:`calc(100% - ${n}px - ${Y}px)`,display:i?"initial":"none"},children:e.jsx(le,{width:"100%",height:"100%",defaultLanguage:"json",defaultValue:"",theme:h==="dark"?"vs-dark":"vs-light",onMount:b,onChange:S,options:{wordWrap:"on",smoothScrolling:!0}})})]})}const fa={"--accordion-animation-duration":"0.2s"};function ha({simulationData:t,onSimulationUpdate:a=()=>{}}){var o;const s=H(pa(t||""));function n(u){const m={...s,data:{...s==null?void 0:s.data,pairs:u}};a(D(m))}function r(){const u=Re(!0);a(D(u))}return e.jsxs("div",{className:"p-3 flex flex-col gap-6",style:xa,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Oe,{}),e.jsx(V,{children:"Simulations"}),e.jsx("div",{className:"w-[47px]"})]}),(o=s==null?void 0:s.data)!=null&&o.pairs?e.jsx(Ie,{requestResponsePairs:s.data.pairs,onChange:n}):e.jsx(Pe,{onClick:r})]})}const xa={"--accordion-animation-duration":"0s"};function pa(t){const a=atob(t),s=a.length,n=new Uint8Array(s);for(let o=0;o<s;o++)n[o]=a.charCodeAt(o);return new TextDecoder().decode(n)}self.MonacoEnvironment={getWorker(t,a){return a==="json"?new vt:new bt}};yt.typescript.typescriptDefaults.setEagerModelSync(!0);wt.config({monaco:Nt});const ga=({enabled:t,setInitialData:a})=>{const[s,n]=c.useState(),[r,o]=c.useState(),u=()=>{const f=setInterval(()=>{window.hoverflyUi_initialSimulationData&&(a(window.hoverflyUi_initialSimulationData),clearInterval(s),clearTimeout(i))},10);n(f);const i=setTimeout(()=>{clearInterval(s)},1e3);o(i)};c.useEffect(()=>{if(t)return u(),()=>{clearInterval(s),clearTimeout(r)}},[t])},ja=()=>{const t=location.search.endsWith("plugin=true"),[a,s]=c.useState(window.hoverflyUi_initialSimulationData);return ga({enabled:t&&!window.hoverflyUi_initialSimulationData,setInitialData:s}),c.useEffect(()=>{window.hoverflyUi_setUiSimulation=s},[]),{ideSimulationData:a,isPluginMode:t}};function va(){const{ideSimulationData:t,isPluginMode:a}=ja();return a?e.jsx(ha,{simulationData:t,onSimulationUpdate:window.hoverflyUi_onUiSimulationChange}):e.jsx(ma,{})}const ba=$t.createRoot(document.getElementById("root"));ba.render(e.jsx(Ct.StrictMode,{children:e.jsx(At,{children:e.jsx(va,{})})}));
